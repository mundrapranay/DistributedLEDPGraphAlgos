# Distributed LEDP Graph Algorithms

This repository contains the implementation for the following Practical and Accurate Local Differentially Private Graph Algorithms. The code is written in Go, with python scripts for data processing. 

## Code Structure

The code base is organized into several directories:

- **algorithms/:** This directory houses all algorithm implementations.

- **cmd/:** The main driver function, `main.go`, is located here.

- **data-structures/:** Implementations of all data structures required by the algorithms can be found in this directory.

- **experiments/:** This directory contains the code and configs for experiments.

## Set-Up

Run `sh setup.sh`

We install golang, and make the necessary data and graph directory. All output files are stored in `${HOME}/results/` and graph files are stored as `${graph-name}_adj` in `${HOME}/graph-dp-experiments/graphs/`.

## Graphs
- email-eu-core : https://storage.googleapis.com/ledp-graphs/graphs/email-eu-core_adj_f
- wiki : https://storage.googleapis.com/ledp-graphs/graphs/wiki_adj_f
- enron : https://storage.googleapis.com/ledp-graphs/graphs/enron_adj_f
- brightkite : https://storage.googleapis.com/ledp-graphs/graphs/brightkite_adj_f
- ego-twitter: https://storage.googleapis.com/ledp-graphs/graphs/ego-twitter_adj_f
- gplus : https://storage.googleapis.com/ledp-graphs/graphs/gplus_adj_f
- stanford: https://storage.googleapis.com/ledp-graphs/graphs/stanford_adj_f
- dblp : https://storage.googleapis.com/ledp-graphs/graphs/dblp_adj
- brain : https://storage.googleapis.com/ledp-graphs/graphs/brain_adj
- orkut : https://storage.googleapis.com/ledp-graphs/graphs/orkut_adj
- livejournal : https://storage.googleapis.com/ledp-graphs/graphs/livejournal_adj
- twitter : https://storage.googleapis.com/ledp-graphs/graphs/twitter_adj
- friendster : https://storage.googleapis.com/ledp-graphs/graphs/friendster_adj

Note: Use the following script the format Gplus: https://github.com/TriangleLDP/TriangleLDP/blob/main/python/ReadGPlus.py

## Running Experiments

To run an experiment, generate your own YAML config file in the `experiments/configs/` directory. We have provided a `gen-configs.sh` file and some sample configs in the config folder. Once you have your config file, go to the `cmd/` folder and run the following command:

```bash
go run main.go -config_file ${name_of_new_config_file} --workers ${number of workers}
```

Note that you only need to provide the name of the config file, not the path, assuming the same directory structure.


**Sample YAML Config File (`experiments/configs/twitter.yaml`):**

```yaml
graph: email-eu-core
graph_size: 986
algo_name: rr-tcount
num_workers: 80
epsilon: 1.0
phi: 0.5
runs: 5
bias: true
bias_factor: 8
noise: true
output_file_tag: rr_baseline
graph_loc: /home/ubuntu/graphs_new
```

For algo_name, we have the following options: `[kcoreLDP, triangle_countingLDP, rr-kcore, rr-tcount]`

### Reproduce Experimental Results

To reproduce the experimental results, navigate to the `experiments/` directory and edit the `run-experiments.sh` script as needed.

Each experiment follows the workflow outlined below:

1. **Per Graph Execution**: For each input graph, all algorithms are executed sequentially.
2. **Graph Partitioning**: The graph is first partitioned based on the number of workers.
3. **Algorithm Execution**: Each algorithm is then executed according to the parameters specified in the configuration file.
4. **Cleanup**: Once processing for a graph is complete, the corresponding partitioned data is deleted to free up space before moving on to the next graph.

**Important:** The algorithm implementations rely on a specific naming convention generated by the `scripts/graph_partitioner.py` script. Please ensure this script is used for graph partitioning to maintain compatibility.


## Contributing

Feel free to contribute by submitting bug reports, feature requests, or pull requests. We welcome collaboration to enhance the functionality and performance of this implementation.

## License

This project is licensed under the [MIT License](LICENSE).
